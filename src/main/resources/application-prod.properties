# Configuración para producción en Render
spring.application.name=proyectosbon2

# Configuración de PostgreSQL para Render
spring.jpa.hibernate.ddl-auto=update
spring.datasource.url=${JDBC_DATABASE_URL:${DATABASE_URL}}
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect


# pool de conexiones HikariCP(incluida por defecto en la dependencia de data-jpa) : permite optimizar el rendimiento en Render (el plan gratuito tiene limitaciones).

# ¿Qué es un pool de conexiones?

# En lugar de crear/cerrar una conexión a la base de datos cada vez que necesitas hacer una consulta
# Se mantiene un "pool" (conjunto) de conexiones abiertas y reutilizables
# Es mucho más eficiente
# ¿Por qué esos valores específicos?

# maximum-pool-size=5: Máximo 5 conexiones simultáneas

# Render FREE tiene limitaciones de memoria (512MB)
# PostgreSQL FREE permite hasta 20 conexiones concurrentes
# 5 conexiones es un balance entre rendimiento y uso de recursos
# minimum-idle=2: Mínimo 2 conexiones siempre abiertas

# Garantiza que siempre hay conexiones disponibles
# Evita la latencia de crear conexiones cuando llegan peticiones
# ¿Es necesario?
# No es estrictamente necesario, pero es una buena práctica para producción porque:

# Mejora el rendimiento
# Evita problemas de conexiones en picos de tráfico
# Optimiza el uso de recursos limitados de Render FREE
# Previene errores de "too many connections"
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2



# API del dólar
dolar.api.url=https://dolarapi.com/v1/dolares/blue

# Swagger
springdoc.swagger-ui.path=/swagger-ui.html

# Puerto para Render
server.port=${PORT:8080}